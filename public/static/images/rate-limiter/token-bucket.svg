<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1015.3174849927009 659.707765556795" width="1015.3174849927009" height="659.707765556795">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("https://excalidraw.com/Assistant-Regular.woff2");
      }
    </style>
    
  </defs>
  <rect x="0" y="0" width="1015.3174849927009" height="659.707765556795" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(400.0276484664121 283.10882011589183) rotate(0 120.5424132822726 115.72798843213013)"><path d="M151.25 29 C172.68 46.99, 187.1 64.49, 210.83 87 C239.15 114.85, 240.24 117.08, 210.83 145 C195.98 162.88, 172.11 180.55, 151.25 202.46 C118.36 234.46, 120.39 228.89, 90.75 202.46 C67.81 183.98, 47.49 162.12, 30.25 145 C3.42 113.45, 2.42 119.09, 30.25 87 C48.9 68.18, 69.49 53.58, 90.75 29 C124.59 1.67, 124.41 0.88, 151.25 29" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M151.25 29 C166.83 41.95, 176.52 55.42, 210.83 87 M151.25 29 C173.8 50.45, 193.94 71.54, 210.83 87 M210.83 87 C239.37 115.97, 241.81 117.3, 210.83 145 M210.83 87 C240.63 117.33, 239.93 115.45, 210.83 145 M210.83 145 C193.63 160, 177.06 173.89, 151.25 202.46 M210.83 145 C190.75 163.95, 171.98 181.55, 151.25 202.46 M151.25 202.46 C119.64 230.27, 120.99 231.1, 90.75 202.46 M151.25 202.46 C122.02 233.06, 122.36 231.07, 90.75 202.46 M90.75 202.46 C70.71 184.98, 53.87 164.88, 30.25 145 M90.75 202.46 C77.25 189.5, 63.89 177.08, 30.25 145 M30.25 145 C1.45 114.04, -0.23 114.63, 30.25 87 M30.25 145 C1.17 115.33, 0.64 115.82, 30.25 87 M30.25 87 C50.7 67.37, 70.9 49.3, 90.75 29 M30.25 87 C52.19 64.87, 77.15 42.18, 90.75 29 M90.75 29 C119.42 1.54, 121.87 1.45, 151.25 29 M90.75 29 C120 0.51, 120.81 -2.22, 151.25 29" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(468.5288966114547 348.9728143319571) rotate(0 52.26995849609375 50)"><text x="52.26995849609375" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">are there </text><text x="52.26995849609375" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">tokens in </text><text x="52.26995849609375" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">the </text><text x="52.26995849609375" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">bucket?</text></g><g stroke-linecap="round"><g transform="translate(257.91530458697935 400.5097037335404) rotate(0 72.06545673773098 -0.3190720454745133)"><path d="M0.59 -0.93 C24.47 -1.03, 120.05 -0.3, 143.86 -0.3 M-0.56 1.2 C23.08 0.69, 118.35 -2.09, 142.77 -2.25" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(257.91530458697935 400.5097037335404) rotate(0 72.06545673773098 -0.3190720454745133)"><path d="M119.45 6.75 C126.05 3.03, 136.33 -0.86, 142.77 -2.25 M119.45 6.75 C125.78 5.11, 131.73 1.61, 142.77 -2.25" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(257.91530458697935 400.5097037335404) rotate(0 72.06545673773098 -0.3190720454745133)"><path d="M119.12 -10.35 C125.88 -8.08, 136.28 -5.97, 142.77 -2.25 M119.12 -10.35 C125.52 -7.27, 131.56 -6.05, 142.77 -2.25" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(289.71461136127755 363.96337814221533) rotate(0 37.4599609375 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">request</text></g><g stroke-linecap="round"><g transform="translate(521.2359516515896 513.8417140794518) rotate(0 0.6148247263015492 39.98811849437493)"><path d="M0.54 1.07 C0.68 14.16, 0.48 66.33, 0.42 79.46 M-0.63 0.59 C-0.08 13.75, 2.18 67.3, 2.7 80.72" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(521.2359516515896 513.8417140794518) rotate(0 0.6148247263015492 39.98811849437493)"><path d="M-6.8 57.6 C-2.3 62.35, -2.43 68.11, 2.7 80.72 M-6.8 57.6 C-4.93 63.74, -0.8 71.96, 2.7 80.72" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(521.2359516515896 513.8417140794518) rotate(0 0.6148247263015492 39.98811849437493)"><path d="M10.29 56.9 C10.25 61.91, 5.58 67.85, 2.7 80.72 M10.29 56.9 C7.21 63.16, 6.39 71.58, 2.7 80.72" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(535.6894392373381 529.2307157005694) rotate(0 82.46992492675781 12.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">No, drop request</text></g><g stroke-linecap="round"><g transform="translate(639.2577878167319 403.7819602502682) rotate(0 109.07521722427487 1.6177447947873134)"><path d="M-1.04 -0.03 C35.27 0.68, 181.64 3.6, 218.32 3.95 M0.61 -1.1 C36.73 -0.69, 181.1 1.56, 217.46 2.21" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(639.2577878167319 403.7819602502682) rotate(0 109.07521722427487 1.6177447947873134)"><path d="M193.83 10.37 C201.82 8.09, 211.09 6.54, 217.46 2.21 M193.83 10.37 C198.87 9.23, 204.09 7.81, 217.46 2.21" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(639.2577878167319 403.7819602502682) rotate(0 109.07521722427487 1.6177447947873134)"><path d="M194.11 -6.73 C201.96 -3.21, 211.14 1.05, 217.46 2.21 M194.11 -6.73 C199.26 -4.37, 204.42 -2.3, 217.46 2.21" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(637.5052309557127 340.5591864014714) rotate(0 125.39990997314453 25)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">yes, remove a token and </text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">     process request</text></g><g stroke-linecap="round"><g transform="translate(498.0943525020921 128.86437100354487) rotate(178.94818142417884 21.286911935272087 67.83779630015601)" fill-rule="evenodd"><path d="M-1.51 1.72 L56.68 0.55 L121.94 135.5 L-77.03 137.59 L-1.52 0.3" stroke="none" stroke-width="0" fill="#ced4da" fill-rule="evenodd"></path><path d="M0 0 C11.29 0.73, 26.91 1.91, 57.19 0.2 M0 0 C22.39 -0.63, 44.18 0.73, 57.19 0.2 M57.19 0.2 C75.72 39.09, 94.7 79.27, 120.68 135.68 M57.19 0.2 C83.07 51.8, 107.21 103.65, 120.68 135.68 M120.68 135.68 C73.59 135.62, 21.91 135.7, -78.1 135.66 M120.68 135.68 C78.53 135.52, 36.48 134.9, -78.1 135.66 M-78.1 135.66 C-57.69 103.14, -38.39 66.79, 0 0 M-78.1 135.66 C-51.44 93.18, -27.65 49.14, 0 0 M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0" stroke="#000000" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(471.488256604825 159.1062304669963) rotate(0 38.28049898876657 11.532559484049898)"><path d="M51.32 0.5 C58.74 1.09, 66.93 2.81, 71.2 5.03 C75.46 7.26, 78.21 11.23, 76.9 13.86 C75.6 16.49, 69.78 19.38, 63.38 20.82 C56.99 22.26, 46.55 22.48, 38.53 22.51 C30.51 22.53, 21.51 22.49, 15.28 20.98 C9.06 19.46, 3.1 15.79, 1.19 13.44 C-0.73 11.09, -0.1 8.84, 3.81 6.87 C7.72 4.9, 16 2.52, 24.67 1.62 C33.33 0.72, 50.03 1.2, 55.8 1.46 C61.57 1.73, 59.7 3.2, 59.28 3.21 M46.53 1.16 C54.2 1.45, 65.47 1.81, 70.35 3.81 C75.23 5.8, 76.5 10.46, 75.81 13.13 C75.12 15.81, 71.73 18.34, 66.24 19.88 C60.75 21.41, 51.22 22.28, 42.87 22.34 C34.53 22.4, 22.93 21.67, 16.18 20.26 C9.42 18.85, 4.3 15.96, 2.35 13.89 C0.4 11.82, 1.05 9.83, 4.46 7.86 C7.87 5.89, 15.54 3.34, 22.8 2.1 C30.06 0.86, 43.81 0.71, 48 0.42 C52.2 0.13, 48.36 0.17, 47.94 0.37" stroke="none" stroke-width="0" fill="#ffec99"></path><path d="M40.76 0.42 C48.59 0.62, 60.09 2.36, 65.98 3.99 C71.87 5.62, 75.45 7.76, 76.1 10.22 C76.75 12.67, 74.47 16.79, 69.89 18.71 C65.32 20.62, 56.69 21.01, 48.64 21.72 C40.59 22.43, 29.01 23.96, 21.6 22.96 C14.18 21.96, 7.58 18.24, 4.17 15.73 C0.75 13.21, -0.74 10.2, 1.12 7.88 C2.97 5.56, 7.11 3.07, 15.31 1.79 C23.51 0.51, 43.39 0.17, 50.32 0.2 C57.24 0.24, 57.07 1.93, 56.86 2.01 M39.53 -0.7 C47.49 -1.17, 57.87 0.52, 63.75 2.08 C69.63 3.64, 73.7 5.89, 74.79 8.68 C75.89 11.47, 74.54 16.35, 70.35 18.81 C66.16 21.26, 57.52 22.77, 49.66 23.41 C41.79 24.05, 30.81 23.83, 23.14 22.65 C15.46 21.47, 7.09 18.74, 3.6 16.32 C0.1 13.9, 0.49 10.37, 2.19 8.12 C3.88 5.88, 7.68 4.21, 13.77 2.86 C19.86 1.5, 34.5 0.48, 38.72 0.01 C42.93 -0.47, 38.9 -0.06, 39.07 -0.01" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g stroke-linecap="round" transform="translate(478.25337120120685 220.7561968764171) rotate(0 38.28049898876657 11.532559484049898)"><path d="M42.36 -0.08 C50.35 -0.24, 60.49 0.9, 66.08 2.84 C71.66 4.78, 75.22 8.92, 75.87 11.55 C76.53 14.19, 74.69 16.94, 69.99 18.64 C65.29 20.34, 55.55 21.17, 47.69 21.77 C39.83 22.36, 30.06 23.05, 22.84 22.21 C15.61 21.37, 7.89 19.05, 4.35 16.73 C0.81 14.4, -0.6 10.78, 1.59 8.26 C3.77 5.74, 9.87 2.84, 17.46 1.61 C25.05 0.38, 41.04 0.95, 47.13 0.87 C53.22 0.78, 54.18 0.92, 54 1.11 M51.06 1.17 C58.83 2.02, 67.08 4.39, 71.15 6.31 C75.22 8.24, 76.86 10.25, 75.49 12.71 C74.11 15.17, 69.07 19.18, 62.93 21.08 C56.78 22.98, 46.51 24.02, 38.63 24.11 C30.74 24.21, 21.76 23.33, 15.61 21.66 C9.46 19.99, 3.58 16.63, 1.75 14.09 C-0.08 11.55, 0.95 8.84, 4.65 6.41 C8.35 3.98, 16.32 0.22, 23.95 -0.5 C31.58 -1.22, 45.95 2.06, 50.46 2.07 C54.97 2.08, 51.19 -0.2, 50.99 -0.46" stroke="none" stroke-width="0" fill="#ffec99"></path><path d="M55.95 1.31 C63.07 2.32, 71.42 5.04, 74.4 7.17 C77.37 9.3, 76.28 11.7, 73.82 14.12 C71.35 16.53, 66.53 20.21, 59.61 21.67 C52.69 23.13, 40.7 23.39, 32.29 22.89 C23.87 22.39, 14.56 20.32, 9.12 18.65 C3.69 16.98, -0.11 15.21, -0.35 12.86 C-0.58 10.5, 2.59 6.49, 7.73 4.51 C12.87 2.54, 21.75 1.38, 30.48 1.01 C39.21 0.64, 54.46 1.71, 60.13 2.3 C65.79 2.89, 64.65 4.47, 64.49 4.54 M41.68 -0.66 C49.82 -0.5, 61.5 0.85, 67.46 2.54 C73.43 4.23, 77.16 7, 77.47 9.45 C77.78 11.89, 74.53 14.76, 69.33 17.22 C64.14 19.69, 54.54 23.54, 46.3 24.23 C38.06 24.93, 27.04 22.81, 19.89 21.41 C12.74 20.02, 6.46 18.03, 3.42 15.86 C0.37 13.68, -0.65 10.53, 1.61 8.35 C3.88 6.18, 10.29 4.16, 17 2.78 C23.72 1.41, 37.63 0.34, 41.89 0.09 C46.16 -0.16, 42.31 1.2, 42.6 1.29" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g stroke-linecap="round" transform="translate(477.4567544461979 191.5673419300706) rotate(0 38.28049898876657 11.532559484049898)"><path d="M50.75 0.98 C58.5 1.58, 66.92 2.84, 71.01 5 C75.11 7.15, 76.42 11.28, 75.32 13.92 C74.22 16.57, 70.24 19.3, 64.4 20.87 C58.57 22.43, 48.61 23.16, 40.33 23.29 C32.06 23.43, 21.4 23.35, 14.75 21.68 C8.11 20.01, 2.12 15.77, 0.46 13.3 C-1.19 10.83, 0.97 9.05, 4.82 6.84 C8.67 4.63, 15.06 0.88, 23.54 0.05 C32.02 -0.79, 49.8 1.53, 55.72 1.83 C61.65 2.13, 59.4 1.71, 59.11 1.84 M41.39 -0.74 C49.21 -0.68, 60.45 0.61, 66.47 2.69 C72.49 4.76, 76.81 8.94, 77.49 11.69 C78.17 14.44, 75.45 17.33, 70.57 19.18 C65.68 21.02, 56.22 22.32, 48.16 22.75 C40.1 23.18, 29.88 22.79, 22.22 21.74 C14.55 20.69, 5.39 18.52, 2.16 16.45 C-1.07 14.39, 0.67 11.75, 2.86 9.36 C5.04 6.98, 8.97 3.49, 15.28 2.16 C21.59 0.82, 36.26 1.7, 40.74 1.34 C45.22 0.98, 42.11 0.22, 42.16 0.01" stroke="none" stroke-width="0" fill="#ffec99"></path><path d="M50.05 1.57 C57.62 2.23, 67.28 3.01, 71.6 4.85 C75.92 6.69, 77.49 10.1, 75.98 12.61 C74.48 15.12, 68.64 18.22, 62.57 19.91 C56.51 21.6, 47.66 22.63, 39.57 22.77 C31.48 22.91, 20.4 22.42, 14.04 20.75 C7.68 19.08, 2.92 15.28, 1.41 12.73 C-0.11 10.18, 0.9 7.38, 4.96 5.45 C9.02 3.51, 17.42 1.78, 25.77 1.12 C34.12 0.46, 49.55 1.44, 55.06 1.47 C60.58 1.5, 59.19 1.27, 58.86 1.32 M53.33 1.47 C60.55 2.05, 68.02 3.95, 71.91 5.94 C75.8 7.93, 78.71 10.84, 76.65 13.4 C74.59 15.97, 66.59 19.72, 59.55 21.32 C52.51 22.92, 42.46 23.34, 34.39 23.02 C26.31 22.69, 16.68 21.28, 11.12 19.38 C5.55 17.47, 1.67 14.04, 1.01 11.61 C0.34 9.18, 2.34 6.45, 7.12 4.8 C11.9 3.14, 21.82 2.1, 29.66 1.67 C37.51 1.23, 50.07 2.22, 54.17 2.21 C58.27 2.2, 54.55 1.41, 54.25 1.6" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g stroke-opacity="0.5" fill-opacity="0.5" transform="translate(612.6467029853111 147.5936552299022) rotate(0 28.836735695663265 72.67332229239719)"><text x="0" y="101.85892852502394" font-family="Virgil, Segoe UI Emoji" font-size="116.27731566783554px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">}</text></g><g transform="translate(679.03960299763 168.78016856918111) rotate(0 131.4998779296875 37.5)"><text x="0" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Bucket capacity</text><text x="0" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">= number of tokens bucket</text><text x="0" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  can hold</text></g><g stroke-linecap="round"><g transform="translate(383.18628265810366 79.93238186258623) rotate(0 62.57019617410788 20.74387413565205)"><path d="M-0.22 -0.85 C17.1 -1.09, 82.41 -7.47, 103.13 -0.41 C123.85 6.65, 120.61 34.63, 124.1 41.51 M-1.79 1.33 C15.95 1.75, 83.87 -6.1, 105.24 0.82 C126.62 7.74, 123.36 36.03, 126.45 42.84" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(383.18628265810366 79.93238186258623) rotate(0 62.57019617410788 20.74387413565205)"><path d="M114.87 22.81 C116.33 25.57, 119.43 30.41, 126.45 42.84 M114.87 22.81 C118.08 28.87, 122.56 34.62, 126.45 42.84" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(383.18628265810366 79.93238186258623) rotate(0 62.57019617410788 20.74387413565205)"><path d="M130.45 20.06 C128.32 23.43, 127.8 28.9, 126.45 42.84 M130.45 20.06 C128.94 26.87, 128.71 33.46, 126.45 42.84" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(64.96655609560366 48.543995300039114) rotate(0 158.60986328125 50)"><text x="317.2197265625" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Add tokens</text><text x="317.2197265625" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">at a constant </text><text x="317.2197265625" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">rate (x tokens per second)</text><text x="317.2197265625" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">until bucket capacity is reached</text></g><g stroke-linecap="round" transform="translate(10 10) rotate(0 497.65874249635044 319.8538827783975)"><path d="M32 0 C356.37 -3.43, 681.92 -2.53, 963.32 0 M32 0 C392.73 1.26, 753.3 1.07, 963.32 0 M963.32 0 C983.2 1.16, 996.4 12.54, 995.32 32 M963.32 0 C985.5 -0.35, 993.61 12.7, 995.32 32 M995.32 32 C995.32 247.98, 994.4 463.88, 995.32 607.71 M995.32 32 C997.19 242.06, 997.07 452.34, 995.32 607.71 M995.32 607.71 C993.82 630.94, 984.75 640.25, 963.32 639.71 M995.32 607.71 C995.97 630.67, 984.59 639.74, 963.32 639.71 M963.32 639.71 C701.9 638.92, 441.05 638.95, 32 639.71 M963.32 639.71 C600.08 641.04, 237.21 641.15, 32 639.71 M32 639.71 C11.16 639.16, -0.91 628.58, 0 607.71 M32 639.71 C8.76 639.81, 1.21 630.46, 0 607.71 M0 607.71 C-0.82 475.58, -1.44 342.33, 0 32 M0 607.71 C1.36 437.75, 1.76 268.58, 0 32 M0 32 C1.18 9.82, 11.75 -1.78, 32 0 M0 32 C0.76 10.52, 12.1 1.25, 32 0" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></svg>